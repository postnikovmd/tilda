/*!
 * flip.js v1.1 | MIT License | (c) 2024 Maksim Postnikov
 * https://postnikovmd.com/mods/license
 */

!function(e){let t=function(e,t){let l=document.querySelector(e+"-block"),i=e+"-block { --flip-transition: "+t.transition+"ms; --flip-easing: "+t.easing+"; --flip-perspective: "+t.perspective+"px }",n=document.createElement("style");if(n.textContent=i,l.appendChild(n),!window.flip.load){let e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/gh/postnikovmd/tilda@"+window.flip.version+"/flip.min.css",document.head.appendChild(e),window.flip.load=!0}};void 0===window.postnikovmd&&(window.postnikovmd="Maksim Postnikov, https://postnikovmd.com"),e.flip={init:function(e,l){if(null==l)l={};null==l.back&&(l.back=e+"-back"),null==l.hover&&(l.hover=!0),null==l.click&&(l.click=!1),null==l.perspective&&(l.perspective=1500),null==l.transition&&(l.transition=300),null==l.easing&&(l.easing="ease-in-out"),t_onReady((function(){let i=document.querySelectorAll(e),n=document.querySelectorAll(l.back);if(i.length>0)if(n.length>0){i.length!==n.length&&console.warn("[flip.js] Предупреждение: Количество передних и задних сторон карточек не совпадает (selector: "+e+")"),i[0].closest(".tn-group")?(i.forEach((e=>e.closest(".tn-group").classList.add("flip-card","flip-front"))),n.forEach((e=>e.closest(".tn-group").classList.add("flip-card","flip-back"))),l.isObject=!0):(i.forEach((e=>e.classList.add("flip-card","flip-front"))),n.forEach((e=>e.classList.add("flip-card","flip-back"))),l.isObject=!1),l.cardsAmount=Math.ceil(i.length);let s=i[0].closest(".t-rec");if(s&&s.classList.add(e.substring(1)+"-block"),(l.click||isMobile)&&(l.hover=!1,l.click=!0),l.click&&void 0!==l.link){let e=s.querySelectorAll(`a[href="${l.link}"]`);e.forEach((e=>e.closest(".tn-elem").classList.add("flip-link"))),e=s.querySelectorAll(".flip-link"),e.forEach((e=>e.querySelector("a").removeAttribute("href"))),l.linksAmount=Math.ceil(e.length/2)}for(let t=0;t<l.cardsAmount;t++){let l=i[t].closest(".tn-group"),s=n[t].closest(".tn-group"),c=document.createElement("div");c.className=e.substring(1)+"-container t-flip-container",l.parentNode.insertBefore(c,l),c.appendChild(l),c.appendChild(s)}document.querySelectorAll(`.${e.substring(1)}-container`).forEach((e=>{if(l.hover&&(e.style.cursor="pointer",e.querySelectorAll(".tn-elem").forEach((e=>e.style.pointerEvents="none")),e.addEventListener("mouseenter",(()=>{e.classList.contains("active")||e.classList.add("active")})),e.addEventListener("mouseleave",(()=>{e.classList.contains("active")&&e.classList.remove("active")}))),l.click)if(void 0!==l.link&&l.linksAmount>0){let t=e.querySelector(".flip-front .flip-link"),l=e.querySelector(".flip-back .flip-link");t&&t.addEventListener("click",(()=>e.classList.add("active"))),l&&l.addEventListener("click",(()=>e.classList.remove("active")))}else e.style.cursor="pointer",e.addEventListener("click",(()=>e.classList.toggle("active")));window.rescale&&window.rescale.this&&e.setAttribute("data-rescale","")})),t(e,l)}else console.error("[flip.js] Ошибка: Не найдены элементы (selector: "+l.back+")");else console.error("[flip.js] Ошибка: Не найдены элементы (selector: "+e+")")}))},copyright:"© "+window.postnikovmd,version:"1.1"}}(window);
