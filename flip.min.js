!function(e){let t=function(e,t){if(void 0==t)var t={};void 0==t.back&&(t.back=e+"-back"),void 0==t.hover&&(t.hover=!0),void 0==t.click&&(t.click=!1),void 0==t.perspective&&(t.perspective=1500),void 0==t.transition&&(t.transition=300),void 0==t.easing&&(t.easing="ease-in-out"),t_onReady(function(){let i=document.querySelectorAll(e),r=document.querySelectorAll(t.back);if(i.length>0){if(r.length>0){i.length!==r.length&&console.warn("[flip.js] Предупреждение: Количество передних и задних сторон карточек не совпадает (selector: "+e+")");i[0].closest(".tn-group")?(i.forEach(e=>e.closest(".tn-group").classList.add("flip-card","flip-front")),r.forEach(e=>e.closest(".tn-group").classList.add("flip-card","flip-back")),t.isObject=!0):(i.forEach(e=>e.classList.add("flip-card","flip-front")),r.forEach(e=>e.classList.add("flip-card","flip-back")),t.isObject=!1),t.cardsAmount=Math.ceil(i.length);let c=i[0].closest(".t-rec");if((t.click||isMobile)&&(t.hover=!1,t.click=!0),t.click&&void 0!==t.link){let l=c.querySelectorAll(`a[href="${t.link}"]`);l.forEach(e=>e.closest(".tn-elem").classList.add("flip-link")),(l=c.querySelectorAll(".flip-link")).forEach(e=>e.querySelector("a").removeAttribute("href")),t.linksAmount=Math.ceil(l.length/2)}for(let n=0;n<t.cardsAmount;n++){let o=i[n].closest(".tn-group"),s=r[n].closest(".tn-group"),a=document.createElement("div");a.className=`${e.substring(1)}-container`,o.parentNode.insertBefore(a,o),a.appendChild(o),a.appendChild(s)}document.querySelectorAll(`.${e.substring(1)}-container`).forEach(e=>{if(t.hover&&(e.style.cursor="pointer",e.querySelectorAll(".tn-elem").forEach(e=>e.style.pointerEvents="none"),e.addEventListener("mouseenter",()=>{e.classList.contains("active")||e.classList.add("active")}),e.addEventListener("mouseleave",()=>{e.classList.contains("active")&&e.classList.remove("active")})),t.click){if(void 0!==t.link&&t.linksAmount>0){let i=e.querySelector(".flip-front .flip-link"),r=e.querySelector(".flip-back .flip-link");i&&i.addEventListener("click",()=>e.classList.add("active")),r&&r.addEventListener("click",()=>e.classList.remove("active"))}else e.style.cursor="pointer",e.addEventListener("click",()=>e.classList.toggle("active"))}});let p=e+"-container .flip-link { cursor: pointer !important } "+e+"-container .flip-front, "+e+"-container.active .flip-back { pointer-events: auto } "+e+"-container.active .flip-front, "+e+"-container .flip-back { pointer-events: none } "+e+"-container .flip-front .tn-molecule, "+e+"-container .flip-back .tn-molecule { transition: transform "+t.transition+"ms "+t.easing+"; backface-visibility: hidden; -webkit-backface-visibility: hidden; -webkit-transform-style: preserve-3d; } "+e+"-container .flip-front .tn-molecule { transform: perspective("+t.perspective+"px) rotateY(0deg) } "+e+"-container .flip-back .tn-molecule { transform: perspective("+t.perspective+"px) rotateY(-180deg) } "+e+"-container.active .flip-front .tn-molecule { transform: perspective("+t.perspective+"px) rotateY(180deg) } "+e+"-container.active .flip-back .tn-molecule { transform: perspective("+t.perspective+"px) rotateY(0deg) }";window.rescale&&window.rescale.this&&(p+=e+"-container .flip-card { zoom: var(--scale-factor) !important }");let f=document.createElement("style");f.innerText=p,c.appendChild(f)}else console.error("[flip.js] Ошибка: Не найдены элементы (selector: "+t.back+")")}else console.error("[flip.js] Ошибка: Не найдены элементы (selector: "+e+")")})};void 0===window.postnikovmd&&(window.postnikovmd="Maksim Postnikov, https://postnikovmd.com"),e.flip={init:t,copyright:"\xa9 "+window.postnikovmd}}(window);
