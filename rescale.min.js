!function(e){let t=function(e,t){window.rescale.init&&"page"===window.rescale.init?void 0!==t.min?void 0!==t.max?t.min<t.max?window.rescale.currentWidth>=t.min&&window.rescale.currentWidth<t.max&&i(e,t):console.error("[rescale.js] Ошибка: Минимальный брейкпоинт (min) не может быть больше, чем максимальный (max)"):window.rescale.currentWidth>=t.min&&i(e,t):void 0!==t.max?window.rescale.currentWidth<t.max&&i(e,t):console.error("[rescale.js] Ошибка: Не заданы ключевые брейкпоинты min и max"):(window.rescale.init,t_onReady((function(){i(e,t)})))},i=function(e,t){let i=document.querySelector(e);e=e.replace("#rec","");let a=i.getAttribute("data-record-type"),d=i.querySelector(".t396__artboard"),l=1;if("396"!==a&&"121"!==a||!d)if("131"===a||"215"===a||"1093"===a)i.style.zoom="";else{if(window.rescale.scale)l=window.rescale.scale;else if(window.tn_scale_factor)l=window.tn_scale_factor;else switch(void 0===t&&(t={}),void 0===t.direction&&(t.direction="upscale"),t.direction){case"upscale":l=parseFloat(window.innerWidth/window.tn.curResolution).toFixed(3);break;case"downscale":l=parseFloat(window.tn.curResolution/window.innerWidth).toFixed(3)}window.rescale.scale=l,window.tn_scale_factor=l,document.documentElement.style.setProperty("--scale-factor",l),i.style.zoom="var(--scale-factor)",(window.t396__isMobile||window.t396__isIPad)&&r(e)}else{if("window"===d.getAttribute("data-artboard-upscale")){if(void 0===window.rescale["ab"+e]&&(window.rescale["ab"+e]={}),t.min&&(window.rescale["ab"+e].min=t.min),t.max&&(window.rescale["ab"+e].max=t.max),t.keep&&(window.rescale["ab"+e].keep=t.keep),t.direction&&(window.rescale["ab"+e].direction=t.direction),window.t396__isMobile||window.t396__isIPad)if(d.classList.contains("t396__artboard_scale"))n(e);else{var w=new MutationObserver((function(t){for(var i of t)"attributes"===i.type&&"class"===i.attributeName&&d.classList.contains("t396__artboard_scale")&&(n(e),w.disconnect())}));w.observe(d,{attributes:!0})}l=o(e),window.rescale["ab"+e].scaleFactor=l,window.rescale.scale=l,document.documentElement.style.setProperty("--scale-factor",l)}else console.warn("[rescale.js] Предупреждение: Блок (id: #rec"+e+") нельзя масштабировать, так как у него выключен автоскейл")}},o=function(e){let t,i,o,n,r,a,d=window.rescale["ab"+e].min,l=window.rescale["ab"+e].max,w=window.rescale["ab"+e].keep,s=window.rescale["ab"+e].direction,c=document.querySelector("#rec"+e).querySelector(".t396__artboard");if(c){let _=c.getAttribute("data-artboard-screens").split(",").map(Number);if(window.rescale["ab"+e].screens=_,void 0!==d||void 0!==l)if(s){switch(void 0===d&&void 0!==l&&(n=[l],r="min"),void 0!==d&&void 0!==l&&(n=[d,l],r="between"),void 0!==d&&void 0===l&&(n=[d],r="max"),window.rescale["ab"+e].breakpoints=n,r){case"min":s="downscale";break;case"between":break;case"max":s="upscale"}switch(window.rescale["ab"+e].direction=s,s){case"upscale":o=n[0];break;case"downscale":"max"!==r?o=n[1]:console.error("[rescale.js] Ошибка: Невозможно применить обратное масштабирование к наибольшему адаптиву (id: #rec"+e+")")}if(o)if(_){for(let e=0;e<_.length;e++)if(window.rescale.currentWidth<=_[e]){t=[_[e-1]||void 0,_[e]];break}if(window.rescale.currentWidth>_[_.length-1]&&(t=[_[_.length-1],void 0]),window.rescale["ab"+e].resolution=t,t){switch(s){case"upscale":i=t[0];break;case"downscale":i=void 0!==t[1]&&window.rescale.currentWidth<=t[1]?t[1]:t[0]}return"between"===r?a=parseFloat((window.rescale.currentWidth/o).toFixed(3)):"max"===r&&(d===t[0]&&(a=parseFloat((window.rescale.currentWidth/o).toFixed(3))),d>t[0]&&(window.rescale.currentWidth>=d?a=parseFloat((window.rescale.currentWidth/o).toFixed(3)):window.rescale.currentWidth>=t[0]&&(a=1)),w&&window.rescale.currentWidth>=w&&(a=parseFloat((w/o).toFixed(3)))),window.rescale["ab"+e].grid_width=i,window.rescale.grid_width=i,window.rescale["ab"+e].grid_offset_left=parseInt(Math.round((window.rescale.currentWidth/a-i)/2)),window.rescale.grid_offset_left=window.rescale["ab"+e].grid_offset_left,a}console.error("[rescale.js] Ошибка: Некорректно рассчитан текущий брейкпоинт блока (id: #rec"+e+")")}else console.error("[rescale.js] Ошибка: Невозможно получить брейкпоинты блока (id: #rec"+e+")")}else console.error("[rescale.js] Ошибка: Не задано направление масштабирования");else console.error("[rescale.js] Ошибка: Не заданы ключевые брейкпоинты min и max")}else console.error("[rescale.js] Ошибка: Не найден артборд блока (id: #rec"+e+")")},n=function(e){const t=document.querySelector("#rec"+e).querySelector(".t396__artboard").querySelectorAll(".tn-elem");t&&t.forEach((e=>{let t=e.getAttribute("data-elem-type"),i=e.querySelector(".tn-atom");if("grid"===t396_elem__getFieldValue(e,"container")){if("text"===t||"button"===t){if("button"===t&&(i=e.children[0]),isSafari&&!e.closest(".tn-group")){e.style.zoom="",i.style.fontSize="";let t=parseFloat(getComputedStyle(i).fontSize);i.style.webkitTextSizeAdjust;i.style.webkitTextSizeAdjust="none",e.style.zoom=window.rescale.scale;let o=parseFloat(getComputedStyle(i).fontSize);Math.abs(t-o)>=1?(i.style.fontSize=Math.round(t*window.rescale.scale)+"px",i.style.webkitTextSizeAdjust="none"):i.style.webkitTextSizeAdjust="",i.style.lineHeight=""}let o=i.querySelectorAll("a:not(:has(*)), span, strong, em");o.length>0&&o.forEach((e=>{e.style.fontSize="",e.style.zoom="1.001",e.style.webkitTextSizeAdjust="none",e.classList.add("fix")})),i.style.fontSize="",i.style.zoom="1.001",i.style.webkitTextSizeAdjust="none",i.classList.add("fix"),"button"===t&&i.classList.contains("js-click-zero-stat")&&window.addEventListener("load",(function(){setTimeout((function(){let t=e.querySelector(".tn-atom");t.style.fontSize="",t.style.zoom="1.001",t.style.webkitTextSizeAdjust="none"}),500)})),window.rescale.currentWidth>=480&&window.rescale.currentWidth<1200&&!isSafari&&(i.style.webkitTextSizeAdjust="auto")}"form"===t&&window.addEventListener("load",(function(){setTimeout((function(){let t=e.querySelector("form").querySelectorAll("input, textarea, select, label");t&&t.forEach((e=>{e.style.zoom="1.001",e.style.webkitTextSizeAdjust="none"}))}),500)}))}}))},r=function(e){let t=document.querySelector("#rec"+e),i=t.querySelectorAll("div");i&&i.forEach((e=>{0===Array.from(e.childNodes).filter((e=>"DIV"===e.nodeName||"A"===e.nodeName)).length&&void 0!==e.innerText&&(e.style.zoom="1.001",e.style.webkitTextSizeAdjust="none")}));let o=t.querySelectorAll("a, button, span, em, strong");o&&o.forEach((e=>{0===Array.from(e.childNodes).filter((e=>"DIV"===e.nodeName)).length&&void 0!==e.innerText&&(e.style.zoom="1.001",e.style.webkitTextSizeAdjust="none")}))},a=function(){window.t396__setGlobalScaleVariables=function(e,t,i){if(window.tn_window_width=document.documentElement.clientWidth,i)if(window.rescale)window.rescale["ab"+e]?(window.tn["ab"+e].scaleFactor=window.rescale["ab"+e].scaleFactor,window.tn_scale_factor=window.rescale["ab"+e].scaleFactor):(window.tn["ab"+e].scaleFactor=window.rescale.scale,window.tn_scale_factor=window.rescale.scale);else{let i=parseFloat((window.tn_window_width/t).toFixed(3));window.tn["ab"+e].scaleFactor=i,window.tn_scale_factor=i}else window.tn["ab"+e].scaleFactor=1,window.tn_scale_factor=1},window.t396_updateTNobj=function(e){window.tn.window_width=document.documentElement.clientWidth;var t=t396__getAxisXPadding();t&&(window.tn.window_width-=t),window.t396__isMobile?window.tn.window_height=document.documentElement.clientHeight:window.tn.window_height=window.innerHeight;for(var i,o=document.querySelector("#rec"+e),n=(e="ab"+e,window.tn[e].screens.slice().reverse()),r=0;r<n.length;r++)if(window.tn[e].curResolution===n[r]){window.tn[e].canvas_min_width=n[r],window.tn[e].canvas_max_width=0===r?window.tn.window_width:n[r-1];break}i=!!o&&"window"===o.querySelector(".t396__artboard").getAttribute("data-artboard-upscale"),window.rescale[e]&&window.tn.window_width!==window.tn[e].curResolution&&i?(window.tn[e].grid_width=window.rescale[e].grid_width,window.tn[e].grid_offset_left=window.rescale[e].grid_offset_left):window.rescale&&window.tn.window_width!==window.tn[e].curResolution&&i?(window.tn[e].grid_width=window.rescale.grid_width,window.tn[e].grid_offset_left=window.rescale.grid_offset_left):(window.tn[e].grid_width=window.tn[e].canvas_min_width,window.tn[e].grid_offset_left=(window.tn.window_width-window.tn[e].grid_width)/2)},window.t396_elem__convertPosition__Local__toAbsolute=function(e,t,i){if(e=t396_getEl(e)){var o=(u=e.closest(".t396__artboard")).getAttribute("data-artboard-recid"),n=t396_ab__getFieldValue(u,"valign"),r="window"===t396_ab__getFieldValue(u,"upscale"),a="edit"===((u=document.getElementById("allrecords"))?u.getAttribute("data-tilda-mode"):""),d=t396_isOnlyScalableBrowser(),l=!a&&r&&d,w=!a&&r&&!d,s=t396_elem__getFieldValue(e,"axisy"),c=t396_elem__getFieldValue(e,"axisx"),_=t396_elem__getFieldValue(e,"container"),u=e.classList.contains("tn-group")&&"physical"===t396_group__getFieldValue(e,"type"),m=e.parentNode.closest(".tn-group"),f="physical"===t396_group__getFieldValue(m,"type"),g=(u&&(_="grid"),i=parseInt(i),t396__getCurrentScaleFactor(o));switch(t){case"left":var h,b,p;if(h="grid"===_?"grid":"window",b="grid"===_?window.tn["ab"+o].grid_offset_left:0,p="grid"===_?window.tn["ab"+o].grid_width:window.tn.window_width,"%"===t396_elem__getFieldValue(e,"leftunits")&&(i=t396_roundFloat(p*i/100)),f){var y=parseInt(t396_group__getFieldValue(m,"left"),10);i-=y="%"===t396_group__getFieldValue(m,"leftunits")?t396_roundFloat(p*y/100):y;break}!a&&r?"grid"===h&&(d?i*=g:b+i>=i&&(i=b+i)):i=b+i,"center"===c&&(S=t396_elem__getWidth(e),l&&"window"!==h&&(p*=g,S*=g),i=p/2-S/2+i),"right"===c&&(S=t396_elem__getWidth(e),l&&"window"!==h&&(p*=g,S*=g),i=p-S+i),l&&"window"!==h&&(i+=((S=t396_elem__getWidth(e))*g-S)/2);break;case"top":function v(e){var t,i,o=t396_elem__getHeight(e);return e&&"image"===e.getAttribute("data-elem-type")&&(t=t396_elem__getWidth(e),i=t396_elem__getFieldValue(e,"filewidth"),e=t396_elem__getFieldValue(e,"fileheight"),i&&e&&(o=t/(parseInt(i)/parseInt(e)))),o}var x=(y=e.closest(".t396__artboard"))?y.getAttribute("data-artboard-proxy-min-offset-top"):"0",F=y?y.getAttribute("data-artboard-proxy-min-height"):"0",S=y?y.getAttribute("data-artboard-proxy-max-height"):"0";if(h="grid"===_?"grid":"window",x="grid"===_?parseFloat(x):0,F="grid"===_?parseFloat(F):parseFloat(S),"%"===t396_elem__getFieldValue(e,"topunits")&&(i=F*(i/100)),f){S=parseInt(t396_group__getFieldValue(m,"top"),10),i-=S="%"===t396_group__getFieldValue(m,"topunits")?t396_roundFloat(F*S/100):S;break}l&&"window"!==h&&(i*=g),i=(x=w&&"window"!==h?"stretch"===n?0:x/g:x)+i;S=t396_ab__getFieldValue(y,"height_vh"),x=t396_ab__getFieldValue(y,"height");var A,k,W=t396_ab__getHeight(y);r&&!a&&S&&(A=parseInt(x,10)*g),"center"===s&&(k=v(e),l&&"window"!==h&&("stretch"!==n?F*=g:F=A?W<A?A:W:y.clientHeight,k*=g),a||!r||d||"window"===h||"stretch"!==n||(F=A?W<A?A:W:y.clientHeight,F/=g),i=F/2-k/2+i),"bottom"===s&&(k=v(e),l&&"window"!==h&&("stretch"!==n?F*=g:F=A?W<A?A:W:y.clientHeight,k*=g),a||!r||d||"window"===h||"stretch"!==n||(F=A?W<A?A:W:y.clientHeight,F/=g),i=F-k+i),l&&"window"!==h&&(S=((k=v(e))*g-k)/2,i+=S=Math.round(S))}return i}}};window.t396__setGlobalScaleVariables&&"function"==typeof window.t396__setGlobalScaleVariables?a():document.querySelector('script[src*="tilda-zero-1.1.min.js"]').addEventListener("load",(function(){a()})),void 0===window.postnikovmd&&(window.postnikovmd="Maksim Postnikov, https://postnikovmd.com"),e.rescale={init:function(e){let i,o;function n(){document.querySelectorAll(e.selector).length>0?document.querySelectorAll(e.selector).forEach((i=>{t("#"+i.id,e)})):console.error("[rescale.js] Ошибка: Не найдено ни одного блока с указанным селектором: "+e.selector)}void 0===e&&(e={}),void 0===window.rescale&&(window.rescale={}),void 0===e.selector&&(e.selector=".t-rec"),window.t396__isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||-1<navigator.userAgent.indexOf("Instagram"),window.t396__isIPad="ontouchend"in document&&-1!==navigator.userAgent.indexOf("AppleWebKit"),window.rescale.currentWidth=window.innerWidth,(window.t396__isMobile||window.t396__isIPad)&&(window.rescale.currentWidth=document.documentElement.clientWidth),window.rescale.init="page",n(),window.addEventListener("resize",(function(){window.screen.width!==o&&(clearTimeout(i),i=setTimeout((function(){n(),o=window.screen.width}),500)),window.rescale.currentWidth=window.innerWidth,(window.t396__isMobile||window.t396__isIPad)&&(window.rescale.currentWidth=document.documentElement.clientWidth)}))},block:t,copyright:"© "+window.postnikovmd}}(window);
