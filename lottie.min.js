/*!
 * lottie.js v1.1 | MIT License | (c) 2024 Maksim Postnikov
 * https://postnikovmd.com/mods/license
 */

!function(e){let t=function(e,t){const o=document.querySelector(e);if(t.offsetTop=Math.round(o.getBoundingClientRect().top*t.scale.factor+document.documentElement.scrollTop),t.height=Math.ceil(o.clientHeight*t.scale.factor),!t.animated)switch(t.trigger){case"window-bottom":if(window.scrollY>=t.offsetTop+t.height-window.innerHeight-t.offset){let i={player:e+" .lottie-player",mode:"chain",actions:[{state:"autoplay",speed:t.speed,transition:"click"}]};return t.loop&&(i.actions[0].transition="repeat"),setTimeout((()=>{LottieInteractivity.create(i),setTimeout((()=>{o.classList.remove("inactive")}),t.transition)}),t.delay),!0}break;case"window-center":if(window.scrollY>=t.offsetTop+(t.height-window.innerHeight)/2-t.offset)return setTimeout((()=>{LottieInteractivity.create({player:e+" .lottie-player",mode:"chain",actions:[{state:"autoplay",speed:t.speed,transition:"click"}]}),setTimeout((()=>{o.classList.remove("inactive")}),t.transition)}),t.delay),!0;break;case"window-top":if(window.scrollY>=t.offsetTop-t.offset)return setTimeout((()=>{LottieInteractivity.create({player:e+" .lottie-player",mode:"chain",actions:[{state:"autoplay",speed:t.speed,transition:"click"}]}),setTimeout((()=>{o.classList.remove("inactive")}),t.transition)}),t.delay),!0;break;default:if(window.scrollY>=t.offsetTop+t.height-window.innerHeight-t.offset)return setTimeout((()=>{LottieInteractivity.create({player:e+" .lottie-player",mode:"chain",actions:[{state:"autoplay",speed:t.speed,transition:"click"}]}),setTimeout((()=>{o.classList.remove("inactive")}),t.transition)}),t.delay),!0}},o=function(e){if(void 0===t)var t={};try{const o=document.querySelector(e).closest(".t-rec").getAttribute("id").replace("rec","");window.tn["ab"+o]&&void 0!==window.tn["ab"+o].scaleFactor&&(t.breakpoint=window.tn["ab"+o].curResolution_max,t.factor=window.tn["ab"+o].scaleFactor)}catch(o){const i=document.querySelector(e).closest(".t-rec").querySelector('.t396__artboard[data-artboard-upscale="window"]');if(i){const e=i.getAttribute("data-artboard-screens").split(",");let o,n;void 0!==window.rescale?(void 0!==window.rescale.min?n=window.rescale.max:void 0!==window.rescale.premin&&(n=window.rescale.premax),void 0!==window.rescale.max?o=window.rescale.max:void 0!==window.rescale.premax&&(o=window.rescale.premax)):(n=parseInt(e[1]),o=parseInt(e[e.length-1]),window.rescale={},window.rescale.premin=n,window.rescale.premax=o),t.breakpoint=o,t.factor=parseFloat((window.innerWidth/o*window.visualViewport.scale).toFixed(3))}else{const o=document.querySelector(e).querySelector(".t396__artboard").getAttribute("data-artboard-screens").split(","),i=parseInt(o[o.length-1]);parseInt(o[1]);t.breakpoint=i,t.factor=1}}return t},i=function(e,t){const o=document.querySelector(e);if(0===o.style.zoom.length&&(o.style.zoom=t.scale.factor),void 0!==window.rescale&&window.rescale.scale<1)if(t.scaleFixed)o.style.left="",o.style.top="",o.style.width="",o.style.height="";else{var i=new MutationObserver((function(e){for(var n of e)"attributes"===n.type&&"style"===n.attributeName&&(o.style.left.length>0||o.style.top.length>0)&&(o.style.left="",o.style.top="",o.style.width="",o.style.height="",window.addEventListener("load",(function(){i.disconnect(),t.scaleFixed=!0})))}));i.observe(o,{attributes:!0})}return t.scaleFixed};void 0===window.postnikovmd&&(window.postnikovmd="Maksim Postnikov, https://postnikovmd.com"),e.lottie={init:function(e,n){let a;null==n&&(n={}),null==n.url&&(n.url=""),null==n.speed&&(n.speed=1),null==n.trigger&&(n.trigger="window-bottom"),null==n.offset&&(n.offset=0),null==n.transition&&(n.transition=300),null==n.delay&&(n.delay=0),null==n.loop&&(n.loop=!1),null==window.lottie&&(window.lottie={}),null==window.lottie.loaded&&(window.lottie.loaded=!1),t_onReady((function(){const a=document.querySelector(e);if(a){a.classList.add("inactive"),a.innerHTML="",a.setAttribute("data-lottie-enabled","");const l=document.createElement("lottie-player");if(l.classList.add("lottie-player"),l.src=n.url,l.style.width="100%",l.style.height="100%",l.style.cursor="pointer",a.appendChild(l),window.rescale?(n.scale={},n.scale.factor=window.rescale.scale):n.scale=o(e),window.lottie.loaded)document.addEventListener("lottie-load",(function(){n.animated=t(e,n),window.addEventListener("scroll",(()=>{n.animated=t(e,n)}))}));else{const o=document.createElement("script");o.src="https://cdnjs.cloudflare.com/ajax/libs/lottie-player/2.0.4/lottie-player.min.js",o.onload=()=>{const o=document.createElement("script");o.src="https://cdn.jsdelivr.net/npm/@lottiefiles/lottie-interactivity@1.6.2/dist/lottie-interactivity.min.js",o.onload=()=>{const o=new CustomEvent("lottie-load");document.dispatchEvent(o),n.animated||(n.animated=t(e,n)),window.addEventListener("scroll",(()=>{n.animated||(n.animated=t(e,n))}))},document.head.appendChild(o)},document.head.appendChild(o),window.lottie.loaded=!0}n.scaleFixed=i(e,n);let s=e+"{zoom: var(--scale-factor) !important}",r=document.createElement("style");r.textContent=s,document.querySelector(e).closest(".t-rec").appendChild(r)}else console.error("[lottie.js] Ошибка: Не найден элемент с lottie-анимацией (selector: "+e+")")})),window.addEventListener("resize",(function(){clearTimeout(a),a=setTimeout((function(){n.scale=o(e),n.scaleFixed=i(e,n)}),510)}))},copyright:"© "+window.postnikovmd,version:"1.1"}}(window);
