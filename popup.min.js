!function(t){let e=function(t,e){if(void 0==e)var e={};void 0==e.close&&(e.close="#close"),void 0==e.submit&&(e.submit="#submit"),void 0==e.prev&&(e.prev="#prev"),void 0==e.next&&(e.next="#next"),void 0==e.form&&(e.form=!1),void 0==e.success&&(e.success=!1),void 0==e.controls&&(e.controls=!1),void 0==e.transition&&(e.transition=300),void 0==e.easing&&(e.easing="ease-in-out"),void 0==e.lottie&&(e.lottie={}),void 0==e.lottie.selector&&(e.lottie.selector=".lottie"),void 0==e.lottie.url&&(e.lottie.url=""),void 0==e.lottie.speed&&(e.lottie.speed=1),void 0==e.slide&&(e.slide=0),void 0==e.animation&&(e.animation="fade"),void 0==e.hash&&(e.hash=!1),t_onReady(function(){let n=document.querySelectorAll(t),s=document.createElement("div");s.className=t.substring(1)+"-container",n.forEach(t=>{t.parentNode.insertBefore(s,t),s.appendChild(t)});var c=document.querySelector(t+"-container"),l=c.querySelector('div[data-record-type="390"]');l&&l.classList.add("popup-block");var u=c.querySelector('div[data-record-type="121"]');u&&u.querySelector(".t390")&&u.classList.add("popup-block");var m=c.querySelector(".popup-block");if(m){var d=c.querySelectorAll('div[data-record-type="396"]');d.length>0&&d.forEach(t=>{t.classList.add("popup-content")});var f=c.querySelectorAll('div[data-record-type="121"]');f&&f.querySelector(".t396")&&f.forEach(t=>{t.classList.add("popup-content")});var $=c.querySelectorAll(".popup-content");if($.length>0){let y=Array.from(c.querySelectorAll(`a[href="${e.close}"]`)).map(t=>t.closest(".tn-elem"));y.length&&y.forEach(t=>t&&t.classList.add("popup-close"));let v;c.querySelector('a[href="'+e.submit+'"]')?((v=c.querySelector('a[href="'+e.submit+'"]').closest(".tn-elem")).classList.add("popup-submit"),v.querySelector("a").removeAttribute("href"),v.querySelector("a").outerHTML='<div class="tn-atom" style="cursor: pointer; transform-origin: center center">'+v.querySelector("a").innerHTML+"</div>;",v=c.querySelector(".popup-submit")):c.querySelector(".submit")&&(v=c.querySelector(".submit")).classList.add("popup-submit");let h=Array.from(c.querySelectorAll(`a[href="${e.prev}"]`)).map(t=>t.closest(".tn-elem"));h.length&&h.forEach(t=>t&&t.classList.add("popup-controls","prev"));let g=Array.from(c.querySelectorAll(`a[href="${e.next}"]`)).map(t=>t.closest(".tn-elem"));g.length&&g.forEach(t=>t&&t.classList.add("popup-controls","next")),(h.length||g.length)&&(e.controls=!0),$[0].querySelector('div[data-elem-type="form"]')&&(e.form=!0),e.slide;let _=m.querySelector(".t-popup__container");_.innerHTML="",$.forEach(t=>_.appendChild(t)),$[e.slide].classList.add("active"),o(t,e),i(t,e),y.forEach(o=>{o.querySelector("a").removeAttribute("href"),o.addEventListener("click",()=>{e.slide=r(t,e)})}),$.forEach(o=>{o.querySelector(".t396__filter").addEventListener("click",()=>{e.slide=r(t,e)})}),e.controls&&(h.forEach(o=>{o.querySelector("a").removeAttribute("href"),o.addEventListener("click",()=>{e.slide=p(t,e,"prev")})}),g.forEach(o=>{o.querySelector("a").removeAttribute("href"),o.addEventListener("click",()=>{e.slide=p(t,e,"next")})})),e.form&&v.addEventListener("click",()=>{e.slide=a(t,e)}),e.hash&&m.querySelector(".t-popup").getAttribute("data-tooltip-hook")===window.location.hash&&window.addEventListener("load",function(){t_onFuncLoad("t390_showPopup",function(){t390_showPopup(m.id.replace("rec",""))})})}else console.error("[popup.js] Ошибка: Не найдено ни одного блока для содержимого поп-апа (class: "+t+")")}else console.error("[popup.js] Ошибка: Не найден поп-ап T390 (class: "+t+")")})},o=function(t,e){let o=document.querySelector(t+"-container"),i=o.querySelectorAll(".popup-content"),a={roll:"animation-roll",fade:"animation-fade","fade-left":"animation-fade-left","fade-right":"animation-fade-right","fade-up":"animation-fade-up","fade-down":"animation-fade-down",zoom:"animation-zoom"};i.forEach(t=>t.classList.add(a[e.animation]||"animation-roll"))},i=function(t,e){let o=`${t}-container .t-popup .t-popup__container {top: 0 !important;right: 0 !important;left: 0 !important;margin: 0 !important;background: 0 0 !important;transition: ${e.transition}ms ${e.easing} !important;transform: none !important;overflow: hidden !important;} ${t}-container ${t}.popup-block{zoom:unset!important} ${t}-container .t-popup {height: 100% !important;padding: 0 !important;transition: ${e.transition}ms ${e.easing} !important;}${t}-container .t-popup .t-popup__close-icon {display: none !important;}${t}.popup-content {opacity: 0;height: 0;transition: ${e.transition}ms ${e.easing} !important;}${t}.popup-content.active {animation: ${e.transition}ms ${e.easing} ${e.transition}ms popup-fadein;opacity: 1;height: auto; transition: opacity ${e.transition}ms ${e.easing} ${e.transition}ms !important}${t}.popup-content.active.animation-fade:first-of-type {animation: ${e.transition}ms ${e.easing} popup-fadein;}${t}.popup-content.inactive.animation-fade {animation: ${e.transition}ms ${e.easing} popup-fadeout !important;}${t}.popup-content.active.animation-fade-left:first-of-type {animation: ${e.transition}ms ${e.easing} popup-fadein-left;}${t}.popup-content.inactive.animation-fade-left {animation: ${e.transition}ms ${e.easing} popup-fadeout-left !important;}${t}.popup-content.active.animation-fade-right:first-of-type {animation: ${e.transition}ms ${e.easing} popup-fadein-right;}${t}.popup-content.inactive.animation-fade-right {animation: ${e.transition}ms ${e.easing} popup-fadeout-right !important;}${t}.popup-content.active.animation-fade-up:first-of-type {animation: ${e.transition}ms ${e.easing} popup-fadein-up;}${t}.popup-content.inactive.animation-fade-up {animation: ${e.transition}ms ${e.easing} popup-fadeout-up !important;}${t}.popup-content.active.animation-fade-down:first-of-type {animation: ${e.transition}ms ${e.easing} popup-fadein-down;}${t}.popup-content.inactive.animation-fade-down {animation: ${e.transition}ms ${e.easing} popup-fadeout-down !important;}${t}.popup-content.active.animation-zoom:first-of-type {animation: ${e.transition}ms ${e.easing} popup-zoomin;}${t}.popup-content.inactive.animation-zoom {animation: ${e.transition}ms ${e.easing} popup-zoomout !important;}${t}.popup-content.active.animation-roll {animation: none !important;}${t}.popup-content.active.animation-roll:first-of-type .t396__artboard {animation: ${e.transition}ms ${e.easing} popup-rollin;}${t}.popup-content.inactive.animation-roll .t396__artboard {animation: ${e.transition}ms ${e.easing} popup-rollout !important;}${t} a,${t}-container .popup-close,${t}-container .popup-controls,${t}-container .t-popup__container .t396__filter {cursor: pointer;}@keyframes popup-fadein { 0% { opacity: 0; } 100% { opacity: 1; } }@keyframes popup-fadeout { 0% { opacity: 1; } 100% { opacity: 0; } }@keyframes popup-fadein-left { 0% { opacity: 0; transform: translateX(-100%); } 100% { opacity: 1; transform: translateX(0); } }@keyframes popup-fadeout-left { 0% { opacity: 1; transform: translateX(0); } 100% { opacity: 0; transform: translateX(-100%); } }@keyframes popup-fadein-right { 0% { opacity: 0; transform: translateX(100%); } 100% { opacity: 1; transform: translateX(0); } }@keyframes popup-fadeout-right { 0% { opacity: 1; transform: translateX(0); } 100% { opacity: 0; transform: translateX(100%); } }@keyframes popup-fadein-up { 0% { opacity: 0; transform: translateY(-100%); } 100% { opacity: 1; transform: translateY(0); } }@keyframes popup-fadeout-up { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-100%); } }@keyframes popup-fadein-down { 0% { opacity: 0; transform: translateY(100%); } 100% { opacity: 1; transform: translateY(0); } }@keyframes popup-fadeout-down { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(100%); } }@keyframes popup-zoomin { 0% { opacity: 0; transform: scale(0); transform-origin: center-center; } 100% { opacity: 1; transform: scale(1); transform-origin: center-center; } }@keyframes popup-zoomout { 0% { opacity: 1; transform: scale(1); transform-origin: center-center; } 100% { opacity: 0; transform: scale(0); transform-origin: center-center; } }@keyframes popup-rollin { 0% { height: 0; min-height: 0; } }@keyframes popup-rollout { 100% { height: 0; min-height: 0; } }; if (params.form) popupStyle +=  ${t}-container .popup-submit { cursor: pointer; }; if (params.lottie.url.length > 0) popupStyle += ${t}-container ${e.lottie.selector} { transition: ${e.transition}ms ${e.easing}; }${t}-container ${e.lottie.selector}.inactive { opacity: 0 !important; } .popup-block { zoom: unset !important }`,i=document.createElement("style");i.textContent=o,document.querySelector(t+"-container").appendChild(i)},a=function(t,e){let o=document.querySelector(t+"-container"),i=o.querySelectorAll(".popup-content"),a=e.slide;return o.querySelector(".submit")||i[a].querySelector(".t-submit").click(),i[a].querySelector("form").addEventListener("tildaform:aftersuccess",function(){a=n(t,e)}),a},n=function(t,e){let o=document.querySelector(t+"-container"),i=o.querySelectorAll(".popup-content"),a=e.slide;if(a+1<i.length){if(a+=1,i.forEach(t=>t.classList.remove("active")),i[a].classList.add("active"),e.lottie.url.length>0&&s(t,e),e.form){let n=document.createElement("style");n.classList.add("style-popup-success"),n.textContent=".t-form-success-popup { display: none !important; }",o.appendChild(n)}document.body.classList.remove("t-body_success-popup-showed","t-body_scroll-locked")}else r(t,e);return a},r=function(t,e){let o=document.querySelector(t+"-container"),i=o.querySelector(".popup-block"),a=o.querySelectorAll(".popup-content");return t390_closePopup(i.id.replace(/[^0-9]/gim,"")),a[e.slide].classList.add("inactive"),setTimeout(function(){a[e.slide].classList.remove("inactive"),a.forEach(t=>t.classList.remove("active")),a[0].classList.add("active"),document.body.classList.remove("t-body_success-popup-showed","t-body_scroll-locked"),e.form&&document.querySelector("style.style-popup-success")&&(window.tildaForm.closeSuccessPopup(),setTimeout(function(){document.querySelector("style.style-popup-success").remove()},1e3))},e.transition),0},p=function(t,e,o){let i=document.querySelector(t+"-container"),a=i.querySelectorAll(".popup-content"),n=e.slide;switch(o){case"next":n+1<a.length&&(n+=1);break;case"prev":n-1>=0&&(n-=1)}return a.forEach(t=>t.classList.remove("active")),a[n].classList.add("active"),n},s=function(t,e){let o=document.querySelector(t+"-container"),i=o.querySelector(e.lottie.selector);i.classList.add("inactive"),i.innerHTML="";let a=document.createElement("lottie-player");a.classList.add("lottie-player"),a.src=e.lottie.url,a.style.width="100%",a.style.height="100%",a.style.cursor="pointer",i.appendChild(a);let n=document.createElement("script");n.src="https://cdnjs.cloudflare.com/ajax/libs/lottie-player/2.0.4/lottie-player.min.js",n.onload=()=>{let o=document.createElement("script");o.src="https://cdn.jsdelivr.net/npm/@lottiefiles/lottie-interactivity@1.6.2/dist/lottie-interactivity.min.js",o.onload=()=>{LottieInteractivity.create({player:`${t}-container .lottie-player`,mode:"chain",actions:[{state:"autoplay",speed:e.lottie.speed,transition:"click"},{state:"click",speed:e.lottie.speed,forceflag:!1,reset:!0}]}),setTimeout(()=>{i.classList.remove("inactive")},e.transition)},document.head.appendChild(o)},document.head.appendChild(n)};void 0===window.postnikovmd&&(window.postnikovmd="Maksim Postnikov, https://postnikovmd.com"),t.popup={init:e,copyright:"\xa9 "+window.postnikovmd}}(window);
